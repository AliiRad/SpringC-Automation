<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Ticket</title>
</head>
<body>
<h2>Ticket Page</h2>

<form th:action="@{/ticket/save}" method="post" th:object="${ticket}">
    <!--   <label>Ticket Applicant: <input type="text" placeholder="Applicant" th:value="${applicant.username}" th:field="*{applicant.username}"></label>-->

    <br>
    <label>Ticket Title:<input type="text" placeholder="Title" th:value="${ticket.title}" th:field="*{title}"></label>
    <br>
    <br>
    <label>Ticket Request:<input type="text" placeholder="Request" th:value="${ticket.request}"
                                 th:field="*{request}"></label>
    <br>
    <!--    <label>Ticket Group: <input type="text" placeholder="Group" th:value="${group}" th:field="*{group}"></label>-->
    <br>
    <label>Ticket Status: <input type="text" placeholder="Status" th:value="${ticket.status}"
                                 th:field="*{status}"></label>
    <br>
    <input type="submit" value="Save">
</form>
<table th:if="${#lists.size(ticketList) > 0}">
    <thead>
    <th>Id</th>
    <th>Ticket Date</th>
    <th>Ticket Time</th>
    <th>Ticket Title</th>
    <!--    <th>Applicant</th>-->
    <th>Request</th>
    <!--    <th>Group</th>-->
    <th>Status</th>
    <th>Deleted</th>
    <th>Operation</th>
    </thead>
    <tbody>
    <tr th:each="ticket : ${ticketList}">
        <td th:text="${ticket.id}"></td>
        <td th:text="${ticket.ticketTimeStamp.toLocalDate()}"></td>
        <td th:text="${ticket.ticketTimeStamp.toLocalTime()}"></td>
        <td th:text="${ticket.title}"></td>
        <!--        <td th:text="${ticket.applicant}"></td>-->
        <td th:text="${ticket.request}"></td>
        <!--        <td th:text="${ticket.group}"></td>-->
        <td th:text="${ticket.status}"></td>
        <td th:text="${ticket.deleted}"></td>
        <td>
            <button th:onclick="'findId(\'' + ${ticket.id} + '\')'">Edit</button>
            <button th:onclick="'deleted(\'' + ${ticket.id} + '\')'">Delete</button>
        </td>
    </tr>
    </tbody>
</table>
<div style="display: none" id="divEdit">
    <form action="" id="ticketEditFrom" th:object="${ticket}">
        <label>Ticket ID: <input type="text" id="ticketId"   readonly th:value="${ticket.id}" th:field="*{id}"> </label>
        <br>
        <label>Ticket Date: <input type="text" id="ticketDate" th:value="${ticket.ticketTimeStamp}" th:field="*{ticketTimeStamp}"></label>
        <br>
        <label>Ticket Title: <input type="text" id="ticketTitle" th:value="${ticket.title}" th:field="*{title}"></label>
        <br>
        <!--    <label>Ticket Applicant: <input type="text" id="ticketApplicant" th:value="${ticket.applicant}" th:field="*{applicant}"></label>-->
        <!--    <br>-->
        <label>Ticket Request: <input type="text" id="ticketRequest" th:value="${ticket.request}" th:field="*{request}"></label>
        <!--    <br>-->
        <!--   <label>Ticket Group : <input type="text" id="ticketGroup"></label>-->
            <br>
           <label>Ticket Status: <input type="text" id="ticketStatus" th:value="${ticket.status}" th:field="*{status}"></label>
        <br>
        <label>Ticket Active: <input type="text" id="ticketActive"></label>
        <button th:onclick="'edit(\'' + ${ticket.id} + '\')'">Edit</button>
    </form>
</div>

<script type="text/javascript" src="webjars/bootstrap/5.3.2/js/bootstrap.min.js"></script>
<script type="text/javascript" src="webjars/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript" th:src="@{js/ticket.js}" src="../static/js/ticket.js" ></script>
</body>
</html>